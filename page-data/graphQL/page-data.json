{"componentChunkName":"component---src-templates-post-template-tsx","path":"/graphQL/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>GraphQL</h2>\n<p>GraphQL은 facebook이 2012년에 개발하여 2015년에 공개적으로 발표된 SQL과 마찬가지로 쿼리 언어입니다.</p>\n<p>SQL은 데이터베이스에 저장된 데이터를 효율적으로 가져오는 것을 목적으로 하였지만,</p>\n<p>GraphQL은 웹 클라이언트가 데이터를 서버로부터 효율적으로 가져오는 것을 목적으로 합니다.</p>\n<p>기존의 REST API를 사용할 경우 기능이 필요할 때마다 API를 매번 생성해야 하고</p>\n<p>over-fetching과 under-fetching의 문제가 있었습니다.</p>\n<ul>\n<li>\n<p>over-fetching : 사용하지 않는 데이터를 너무 많이 가져오는 것.</p>\n</li>\n<li>\n<p>under-fetching : endpoint에서 충분한 데이터를 가져오지 못해 다른 endpoint를 호출하는 것.</p>\n</li>\n</ul>\n<p>아래에서 기존 SQL과 REST API를 사용했을 때의 불편함을 예시로 들어보겠습니다.</p>\n<p>기존의 SQL로 전체 유저를 조회시 아래와 같이 작성을 하고 endpoint를 생성하게 되는데요.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span> name <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span>\r\nEndpoint : <span class=\"token operator\">/</span>users</code></pre></div>\n<p>만약, user가 좋아한다고 표시한 글목록관련 데이터가 다른 테이블에 있다면</p>\n<p>데이터를 가져올 때 JOIN을 이용해야 할 것입니다.</p>\n<p>물론 그에 따른 endpoint도 매번 생성을 해야 하죠.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> u<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> l<span class=\"token punctuation\">.</span>content <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">AS</span> u\r\n<span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> likes <span class=\"token keyword\">AS</span> l <span class=\"token keyword\">ON</span> u<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> l<span class=\"token punctuation\">.</span>user_id<span class=\"token punctuation\">;</span>\r\nEndpoint : <span class=\"token operator\">/</span>users<span class=\"token operator\">/</span>likes</code></pre></div>\n<p>이와 같이 SQL을 이용해 원하는 정보만 뽑을려면 여러 테이블을 JOIN해야 하고</p>\n<p>그에 따라 endpoint가 많아지는 경우가 많이 있는데요.</p>\n<p>만약, 하나의 endpoint로 필요한 데이터만 쿼리로 만들어서 받을 수 있다면 얼마나 편할까요?</p>\n<p>그런 일을 할 수 있는 것이 바로 GraphQL입니다.</p>\n<h2>GraphQL 표현</h2>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token object\">user</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">id</span>\r\n    <span class=\"token property\">name</span>\r\n    <span class=\"token object\">likes</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">title</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 GraphQL에 질의를 하면 JSON 형태로 응답을 받게 됩니다.</p>\n<p>data라는 키 값에 담아서 응답한다는 것을 볼 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token string-property property\">\"data\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token string-property property\">\"user\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token string-property property\">\"id\"</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token string-property property\">\"name\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"user1\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token string-property property\">\"likes\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token punctuation\">{</span>\r\n          <span class=\"token string-property property\">\"title\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"hihi\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">{</span>\r\n          <span class=\"token string-property property\">\"title\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"hellohello\"</span>\r\n        <span class=\"token punctuation\">}</span>\r\n      <span class=\"token punctuation\">]</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>물론 장점만 있는 것을 아닙니다. File 전송 등의 경우 처리하기가 복잡해지고</p>\n<p>고정된 요청과 응답만 필요한 경우에는 요청의 크기가 REST API보다 커질 수 있는 등의 단점이 존재합니다.</p>\n<p>REST API든 GraphQL이든 각각의 장점과 단점이 있습니다.</p>\n<p>상황에 맞추어 REST API를 사용할지 GraphQL을 사용할지 적절히 선택하는 것이 중요할 것입니다.</p>","frontmatter":{"title":"GraphQL","summary":"GraphQL 개념,기초","date":"2022.04.11.","categories":["GraphQL"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJUlEQVQoz5VSz0sCQRj1X+kgdCg619/kof+goM5dOkVeyxJqI0Ghq3QQ8RCiF2PValei0vXHjDLuzpOZcbZpN5V98LGP7715zPftpGCAcx5++TyQJUDubFlSW/ZNr4kUIogaWKOPj60rWYKv88YCTUP/8Bk/mTJGFw2Ms01Zgoue0FaFxgK1obdvwTutgZa68L+m8L+nknsnNfQOrJh/9ci+2tus8gny2AYpdEJNcNETmuldf8OlaZJrYXBcjR0YHFWlpgM3jqzhpHNwd/OgT++gpTfQYldydy8PJ32dfIfEsjE6r2N49gLy0AYtdDC+VD+G3NsJdhgx8JkPZ/sG7s5t+C4TPxu1Sw7OVAB79cBantJY8Gd3G28YHYUHvwc0/29UHbgA5BBJy1u39NkAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/8107540e2d6baf4e96f288532e168771/bd87f/graphqlthumbnail.png","srcSet":"/static/8107540e2d6baf4e96f288532e168771/e1883/graphqlthumbnail.png 200w,\n/static/8107540e2d6baf4e96f288532e168771/5301f/graphqlthumbnail.png 400w,\n/static/8107540e2d6baf4e96f288532e168771/bd87f/graphqlthumbnail.png 800w","sizes":"(min-width: 800px) 800px, 100vw"},"sources":[{"srcSet":"/static/8107540e2d6baf4e96f288532e168771/e8411/graphqlthumbnail.webp 200w,\n/static/8107540e2d6baf4e96f288532e168771/a29e4/graphqlthumbnail.webp 400w,\n/static/8107540e2d6baf4e96f288532e168771/64466/graphqlthumbnail.webp 800w","type":"image/webp","sizes":"(min-width: 800px) 800px, 100vw"}]},"width":800,"height":450}},"publicURL":"/static/8107540e2d6baf4e96f288532e168771/graphqlthumbnail.png"}}}}]}},"pageContext":{"slug":"/graphQL/"}},"staticQueryHashes":[]}