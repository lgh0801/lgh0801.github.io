{"componentChunkName":"component---src-templates-post-template-tsx","path":"/codingtestcache/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3>문제 설명</h3>\n<h2><img src=\"/d6a84d529218b3b2cae737d9a005a214/cache1.png\" alt=\"file:///C:/Reactblog/LEEBLOG/static/programmers/cache1.PNG\"></h2>\n<h2><img src=\"/6832eff9fe60ead5107478261ccac13c/cache2.png\" alt=\"file:///C:/Reactblog/LEEBLOG/static/programmers/cache2.PNG\"></h2>\n<h3>LRU알고리즘이란?</h3>\n<p>우선 조건에 LRU알고리즘을 이용하라는게 포인트입니다.</p>\n<p>LRU알고리즘은 간단하게 설명하면</p>\n<p>가장 오랫동안 참조되지 않은 스트링을 교체하는 방법에 알고리즘입니다.</p>\n<p>cache hit란 참조스트링이 캐시에 이미 존재할때이고</p>\n<p>cache miss는 참조스트링이 존재하지 않을때를 말합니다.</p>\n<h2><img src=\"/6c7f1927dd167f1f127619f058df184f/cache3.png\" alt=\"file:///C:/Reactblog/LEEBLOG/static/programmers/cache3.PNG\"></h2>\n<p>4초를 보면 원래 있었던 1이 한번 더 입력되므로 1을 참조합니다.</p>\n<p>참조 후 오랫동안 참조하지 않은 순으로 바꾸면 2->3->1이 됩니다.</p>\n<p>6초에는 cache size가 가득차 5가 들어갈 수 없으므로,</p>\n<p>가장 오랫동안 참조되지 않은 2를 제거한 후 저장합니다.</p>\n<h3>나의 문제 풀이</h3>\n<p>처음 작성한 코드</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">solution</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cacheSize<span class=\"token punctuation\">,</span> cities</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">let</span> time <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cacheSize <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> cities<span class=\"token punctuation\">.</span>length <span class=\"token operator\">*</span> <span class=\"token number\">5</span>\r\n  <span class=\"token keyword\">let</span> CacheQueue <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n  cities <span class=\"token operator\">=</span> cities<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cities<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>CacheQueue<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>cities<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token comment\">//cache hit일 경우 (존재할경우)</span>\r\n      CacheQueue<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>CacheQueue<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>cities<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\r\n      time<span class=\"token operator\">++</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token comment\">//cache miss</span>\r\n      time <span class=\"token operator\">+=</span> <span class=\"token number\">5</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cacheSize <span class=\"token operator\">===</span> CacheQueue<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> CacheQueue<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    CacheQueue<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>cities<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//이부분떄매 시간초과였던거같음 shift</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token keyword\">return</span> time\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>문제 없이 동작할줄알고 제출하였으나</p>\n<p>11테스트케이스에서 시간초과로 95점이 나왔습니다.</p>\n<p>문제를 계속 찾다가 CacheQueue.push(cities.shift()) 이부분에서 도시수가 많아지면</p>\n<p>일일이 shift()를 사용해서제거하기때문에 시간이 오래걸린거같습니다.</p>\n<p>두번째로 작성한 코드</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">solution</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cacheSize<span class=\"token punctuation\">,</span> cities</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">let</span> time <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cacheSize <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> cities<span class=\"token punctuation\">.</span>length <span class=\"token operator\">*</span> <span class=\"token number\">5</span>\r\n  <span class=\"token keyword\">let</span> CacheQueue <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n  cities <span class=\"token operator\">=</span> cities<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\r\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cities<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>CacheQueue<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>cities<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token comment\">//cache hit일 경우 (존재할경우)</span>\r\n      CacheQueue<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>CacheQueue<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>cities<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\r\n      time<span class=\"token operator\">++</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token comment\">//cache miss</span>\r\n      time <span class=\"token operator\">+=</span> <span class=\"token number\">5</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cacheSize <span class=\"token operator\">===</span> CacheQueue<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> CacheQueue<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    CacheQueue<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>cities<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n    i<span class=\"token operator\">++</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token keyword\">return</span> time\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>cities를 일일이 shift()로 처리하지않고 인덱스를 이용하여 해결했습니다.</p>","frontmatter":{"title":"캐시[Kakao]","summary":"캐시 크기에 따른 시간측정","date":"2022.09.19.","categories":["Programmers","CodingTest","Javascript"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACtUlEQVQozy3TWXPaVhiAYZlis4M2JCEE2hcQO8gstolN4sRJmkxSN830pm16UU+mP6CX/elvR6ov3tvn+86Zc4RotCJKlkTJosgPp7jeGMcdYTsJAzvCGgSYfa+oZ7p0tQGqaqKqPZQ8RUeSNDqiihCPVxToaFnk5aCf4nhjbHfEwI7pP4O9vo9huth2gO+FaLqFpBjIioEk52AXIUnX5GhRusaP57jBBKdARwycZ9Dy0AwH14043hy5Pb1if7hG1fqIsoao6IiShpAf839wTY77YY6NGboJlh1hWj56z0E3PQwrZBjOGM13BJMdpjNmf7ghTWc0miLNloSw2r4gXeyK4sklVrDBcFfIwxWqvaFrZ3S9LVpwpNlfc9FbcqGmXGgz6l2fHx9OvH//gSBMCZIZws/fvvP4+xNfvj0Rza5o6gc65ooLfcq5OqGszGiaM9TRFRVrQ0mZUNJmCNqchjLkxX7N3cs37I/3HF99QHj88ztvv/7Gr3/9TT/eIchzRGeLGG9p+Bltb4/oXVH3jtQG15TNDT8YC866UxrysLgOWbWQVBNR1hGe/vmXvNefvlIzl5wbO7rJkXq447yfFYCWZKjxPY3ogUpwTam3QehmNES7eDaipD+nIbz5+Aunt59JltcIyoJq75KWt6fmbKkMd7TcLaK/o+6/o+rdUo931EYZzfCOZsuhLSqIcq/ACjCfIEk6jW6IoG2R7AM1f0u5v6ZkZjSdDa3gjrL9QCUfEm2ppgeq0Z5Gx6DZlulIRrFhJwcfPn7h8upEVY44k+dU1CklJUFohwitgLNOSEmKEdoBJXFMWUk5V2eUpZiWqNNoK7RFjXZHo9VWEd799Ac394/48QY/XuPFGXawxA4WuNEKL1pj+3OcYIUXXyIq+e/oYzljJpsTk+wl0+zEZH3LaH7NfyhWVATpXxrwAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/ee1b64436270d84e308eb60bcc0e9347/ce2ce/codingtestthumbnail.png","srcSet":"/static/ee1b64436270d84e308eb60bcc0e9347/9922e/codingtestthumbnail.png 300w,\n/static/ee1b64436270d84e308eb60bcc0e9347/6dcfc/codingtestthumbnail.png 600w,\n/static/ee1b64436270d84e308eb60bcc0e9347/ce2ce/codingtestthumbnail.png 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/ee1b64436270d84e308eb60bcc0e9347/e3270/codingtestthumbnail.webp 300w,\n/static/ee1b64436270d84e308eb60bcc0e9347/2823f/codingtestthumbnail.webp 600w,\n/static/ee1b64436270d84e308eb60bcc0e9347/fec49/codingtestthumbnail.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":700}},"publicURL":"/static/ee1b64436270d84e308eb60bcc0e9347/codingtestthumbnail.png"}}}}]}},"pageContext":{"slug":"/codingtestcache/"}},"staticQueryHashes":[]}