{"componentChunkName":"component---src-templates-post-template-tsx","path":"/react-paginate/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>페이징</h2>\n<p>ToyProject를 진행하는중에 게시판 글에 페이징기능이 필요하여서</p>\n<p>페이지네이션 라이브러리인 react-paginate를 사용하기로 하였습니다.</p>\n<ol>\n<li>react-paginate install</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">$ npm install react<span class=\"token operator\">-</span>paginate</code></pre></div>\n<p>아래에서 보여주는 소스는 react-paginate를 사용하여</p>\n<p>ToyProject에 적용한 react-paginate와 관련된 일부 코드 부분만을</p>\n<p>추출하거나 수정해서 가져온겁니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//List.js</span>\r\n<span class=\"token keyword\">import</span> ReactPaginate <span class=\"token keyword\">from</span> <span class=\"token string\">'react-paginate'</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">List</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">props</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">//perPage 페이지에 한번에 보이는 게시글 수</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>page<span class=\"token punctuation\">,</span> setPage<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">offset</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">perPage</span><span class=\"token operator\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">currentPage</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">pageCount</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">HandlePageClick</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">//e.selected 1페이지 선택시 값은 0</span>\r\n    <span class=\"token keyword\">const</span> selectedPage <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>selected\r\n    <span class=\"token keyword\">const</span> offset <span class=\"token operator\">=</span> selectedPage <span class=\"token operator\">*</span> page<span class=\"token punctuation\">.</span>perPage\r\n    <span class=\"token function\">setPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>page<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">currentPage</span><span class=\"token operator\">:</span> selectedPage<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">offset</span><span class=\"token operator\">:</span> offset <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ListAppend</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> List <span class=\"token operator\">=</span> res<span class=\"token punctuation\">.</span>data\r\n    <span class=\"token keyword\">let</span> slice <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>inputSearchRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>value <span class=\"token operator\">!==</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>List<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">sweetalert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'검색 자료가 없습니다.'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'info'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'확인'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">}</span>\r\n      slice <span class=\"token operator\">=</span> List<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> List<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token comment\">//검색시는 페이징에서 리스트 목록 개수 제한을 없애줌</span>\r\n      <span class=\"token function\">setPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>page<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">pageCount</span><span class=\"token operator\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">ceil</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n      slice <span class=\"token operator\">=</span> List<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>offset<span class=\"token punctuation\">,</span> page<span class=\"token punctuation\">.</span>offset <span class=\"token operator\">+</span> page<span class=\"token punctuation\">.</span>perPage<span class=\"token punctuation\">)</span> <span class=\"token comment\">//페이징 작업</span>\r\n      <span class=\"token function\">setPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token operator\">...</span>page<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">pageCount</span><span class=\"token operator\">:</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">ceil</span><span class=\"token punctuation\">(</span>List<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">.</span>length <span class=\"token operator\">/</span> page<span class=\"token punctuation\">.</span>perPage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>ReactPaginate\r\n        previousLabel<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'&lt;'</span><span class=\"token punctuation\">}</span>\r\n        nextLabel<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'>'</span><span class=\"token punctuation\">}</span>\r\n        breakLabel<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'...'</span><span class=\"token punctuation\">}</span>\r\n        breakClassName<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'break-me'</span><span class=\"token punctuation\">}</span>\r\n        pageCount<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">.</span>pageCount<span class=\"token punctuation\">}</span>\r\n        marginPagesDisplayed<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span>\r\n        pageRangeDisplayed<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span>\r\n        onPageChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>HandlePageClick<span class=\"token punctuation\">}</span>\r\n        containerClassName<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pagination'</span><span class=\"token punctuation\">}</span>\r\n        subContainerClassName<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pages pagination'</span><span class=\"token punctuation\">}</span>\r\n        activeClassName<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'active'</span><span class=\"token punctuation\">}</span>\r\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ReactPaginate는 필요에 맞게 찾아서 옵션을 사용하시면 됩니다.</p>\n<ul>\n<li>\n<p>pageCount : 총 페이지 수</p>\n</li>\n<li>\n<p>marginPagesDisplayed : 페이지 구성요소의 양쪽 끝에 표시할 페이지 수</p>\n</li>\n<li>\n<p>pageRangeDisplayed : 표시된 총 페이지 수</p>\n</li>\n<li>\n<p>onPageChange : 페이지 버튼을 눌렀을 때 일어나는 이벤트 이를 이용해 페이지 증감</p>\n</li>\n</ul>\n<h2><img src=\"/73dc8147cb9844153f22550139c5733f/paginate.png\" alt=\"file:///C:/Reactblog/LEEBLOG/static/react/paginate.PNG\"></h2>","frontmatter":{"title":"페이징","summary":"react-paginate 사용하여 페이징 구현","date":"2022.03.05.","categories":["React"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/ElEQVQoz2NQwgWUlZWUlZVVVEAMJWWsShhw6VVUkFeQk1WUk1WQk1VSUCBas7KyooKChrGZgU+IhrGZoW+ouoGxIki/MlGaFWSkDXyCTcIT3LrmmkYk6bn5yEtLgt2PXzPIWnlNcyvLtGLnxkk2+TVOjZMsUgo0TMxBlqPqx6ZZXs7QL8w0KsWpcZJjba9jbZ9pVIqBd7CinBwhzTAjzBOybfJqHKq6bQvqzKJTlRQViA0wBTlZHQdX45AYq8xS45A4LWt7BVkZIvwMjShFFXUNTVMLBWkpTTNLZTV1JUVFUuJZUVFBTlZZWUVRVharTnyaQbGqrAJNajgAAIe0an5q22AbAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/cba0b89d2bf2d96a1ed26edb5849f804/07887/reactthumbnail.png","srcSet":"/static/cba0b89d2bf2d96a1ed26edb5849f804/387ef/reactthumbnail.png 300w,\n/static/cba0b89d2bf2d96a1ed26edb5849f804/22925/reactthumbnail.png 600w,\n/static/cba0b89d2bf2d96a1ed26edb5849f804/07887/reactthumbnail.png 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/cba0b89d2bf2d96a1ed26edb5849f804/2fedb/reactthumbnail.webp 300w,\n/static/cba0b89d2bf2d96a1ed26edb5849f804/4fcbd/reactthumbnail.webp 600w,\n/static/cba0b89d2bf2d96a1ed26edb5849f804/0d4d1/reactthumbnail.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":630}},"publicURL":"/static/cba0b89d2bf2d96a1ed26edb5849f804/reactthumbnail.png"}}}}]}},"pageContext":{"slug":"/react-paginate/"}},"staticQueryHashes":[]}